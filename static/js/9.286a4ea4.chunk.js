(this["webpackJsonpxpa-exchange"]=this["webpackJsonpxpa-exchange"]||[]).push([[9],{595:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(73);a(596);t.a=Object(c.b)()((function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Powered by"),r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.tideisun.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"/img/logo-lite.png",alt:"tideisun"}))),r.a.createElement("p",null,"Copyright",r.a.createElement("span",null,"\xa9"),"TideiSun. All rights reserved."))}))},596:function(e,t,a){},600:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=(a(616),function(e){return r.a.createElement("div",{className:"c_prompt"},r.a.createElement("img",{src:"/img/icon/ic-help".concat(1===e.type?"-gray":"",".svg"),alt:"question mark"}),r.a.createElement("div",null,e.message))});c.defaultProps={type:1},t.a=c},616:function(e,t,a){},617:function(e,t,a){"use strict";var n=a(4),r=a(6),c=a(31),o=a(13),s=a(12),i=a(0),l=a.n(i),u=a(73),m=a(594),g=a.n(m),p=a(599),d=a(600),b=(a(618),a(181)),f=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r.importWallet=r.importWallet.bind(Object(c.a)(r)),r.createWallet=r.createWallet.bind(Object(c.a)(r)),r.observe=r.observe.bind(Object(c.a)(r)),r}return Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!g()(e,this.props)||!g()(t,this.state)}},{key:"createWallet",value:function(){this.props.modalControl.open("create",{message:this.props.t("notDownloadWallet")})}},{key:"importWallet",value:function(){this.props.modalControl.open("import")}},{key:"observe",value:function(){var e=this,t=function(t){Object(p.a)({address:t},"","metamask","",e.props.actions)};b.A((function(e){t(e)})),b.y((function(e){t(e)}))}},{key:"render",value:function(){var e=this.props.t;return l.a.createElement("div",{className:"c_login"},l.a.createElement("ul",null,l.a.createElement("li",{className:"button",onClick:this.importWallet},l.a.createElement("span",null,e("importWallet"))),l.a.createElement("li",{className:"button",onClick:this.createWallet},l.a.createElement("span",null,e("createWallet"))),l.a.createElement("li",{className:"unique",onClick:this.observe},l.a.createElement("span",null,"MetaMask"),l.a.createElement(d.a,{type:2,message:e("prompt.obsever")}),l.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))))}}]),a}(l.a.Component);f.defaultProps={t:function(){}},t.a=Object(u.b)("account",{wait:!0})(f)},618:function(e,t,a){},619:function(e,t,a){"use strict";a.r(t),a.d(t,"changeMortgageRate",(function(){return i})),a.d(t,"changeEquivalentAmount",(function(){return l})),a.d(t,"changeUsableAmount",(function(){return u})),a.d(t,"changeLoanAmount",(function(){return m})),a.d(t,"changeRemainingAmount",(function(){return g})),a.d(t,"changeUsableXPA",(function(){return p})),a.d(t,"mortgageLogout",(function(){return d})),a.d(t,"changeMortgagePrice",(function(){return b}));var n=a(18),r=a.n(n),c=a(39),o=a(52),s=a(181),i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.q)(e);case 2:n=t.sent,a({type:o.d,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.n)(e);case 2:n=t.sent,a({type:o.a,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"usable");case 2:n=t.sent,a({type:o.f,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"loan");case 2:n=t.sent,a({type:o.b,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"remaining");case 2:n=t.sent,a({type:o.e,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.r)(e);case 2:n=t.sent,a({type:o.g,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return{type:o.h}},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.p)();case 2:a=e.sent,t({type:o.c,data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},620:function(e,t,a){},656:function(e,t,a){"use strict";var n=a(18),r=a.n(n),c=a(39),o=a(4),s=a(6),i=a(31),l=a(13),u=a(12),m=a(0),g=a.n(m),p=a(8),d=a.n(p),b=a(73),f=a(636),h=a(181),v=a(3),O=a(600),j=(a(620),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={HighestMortgageRate:"-",closingLine:"-"},n.renderAccount=n.renderAccount.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user;(function(){var a=Object(c.a)(r.a.mark((function a(){var n,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.o();case 2:return n=a.sent,a.next=5,h.m();case 5:c=a.sent,t.wallet&&setTimeout((function(){e.props.getUserData(t.wallet.address)}),200),e.setState(d()(e.state,{HighestMortgageRate:{$set:n.replace("0x","")},closingLine:{$set:c.replace("0x","")}}));case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.user.wallet&&e.user!==this.props.user&&setTimeout((function(){t.props.getUserData(e.user.wallet.address)}),200)}},{key:"renderAccount",value:function(){var e=this.props,t=e.loan,a=e.remaining,n=e.price;return Object.keys(n).map((function(e){return g.a.createElement("div",{key:e},g.a.createElement("div",null,e),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"price")},Object(v.e)(7,Object(v.l)(Object(v.a)(n[e]).toString(),-18))),g.a.createElement(f.a,{id:"".concat(e,"price"),place:"right"},Object(v.l)(Object(v.a)(n[e]).toString(),-18)),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"loan")},Object(v.e)(7,Object(v.l)(Object(v.a)(t[e]).toString(),-18))),g.a.createElement(f.a,{id:"".concat(e,"loan"),place:"right"},Object(v.l)(Object(v.a)(t[e]).toString(),-18)),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"remaining")},Object(v.e)(7,Number(Object(v.l)(Object(v.a)(a[e]).toString(),-18)))),g.a.createElement(f.a,{id:"".concat(e,"remaining"),place:"right"},Object(v.l)(Object(v.a)(a[e]).toString(),-18)))}))}},{key:"render",value:function(){var e=this.state,t=e.HighestMortgageRate,a=e.closingLine,n=this.props,r=n.mortgageRate,c=n.equivalentAmount,o=n.usableXPA,s=n.t,i=n.renderButton;return g.a.createElement("div",{className:"order-info"},g.a.createElement("div",{className:"mortgage-rate divid"},g.a.createElement("div",{className:"infor"},g.a.createElement("div",{className:"rate"},g.a.createElement("span",null,s("mortgage.mortgageRate"),g.a.createElement(O.a,{message:s("prompt.mortgageRate")})),g.a.createElement("span",{"data-tip":!0,"data-for":"mortgage_rate".concat(r)},Object(v.e)(8,Object(v.l)(Object(v.a)(r).toString(),-16))||0,"%"),g.a.createElement(f.a,{id:"mortgage_rate".concat(r),place:"right"},Object(v.l)(Object(v.a)(r).toString(),-16))),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.highestRate")),g.a.createElement("span",null,Object(v.e)(8,Object(v.l)(Object(v.a)(t).toString(),-16))||0,"%")),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.equival")),g.a.createElement("span",{"data-tip":!0,"data-for":"equival".concat(c)},Object(v.e)(8,Object(v.l)(Object(v.a)(c).toString(),-18))," XPA"),g.a.createElement(f.a,{id:"equival".concat(c),place:"right"},Object(v.l)(Object(v.a)(c).toString(),-18))),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.detachable")),g.a.createElement("span",{"data-tip":!0,"data-for":"usable".concat(o)},Number(Object(v.l)(Object(v.a)(o).toString(),-18))<Math.pow(10,-6)?0:Object(v.e)(8,Object(v.l)(Object(v.a)(o).toString(),-18))||0," XPA"),g.a.createElement(f.a,{id:"usable".concat(o),place:"right"},Number(Object(v.l)(Object(v.a)(o).toString(),-18))<Math.pow(10,-6)?"0":Object(v.l)(Object(v.a)(o).toString(),-18)))),g.a.createElement("div",{className:"close-line"},g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.closingLine"),g.a.createElement(O.a,{message:s("prompt.closeLine")})),g.a.createElement("span",null,Object(v.e)(8,Object(v.l)(Object(v.a)(a).toString(),-16))||0,"%")),g.a.createElement("div",{className:"rate"},g.a.createElement("span",null,s("mortgage.mortgageRate")),g.a.createElement("span",{"data-tip":!0,"data-for":"mortgage_rate".concat(r)},Object(v.e)(8,Object(v.l)(Object(v.a)(r).toString(),-16))||0,"%"),g.a.createElement(f.a,{id:"mortgage_rate".concat(r),place:"right"},Object(v.l)(Object(v.a)(r).toString(),-16))))),g.a.createElement("div",{className:"offset-btn divid"},i()),g.a.createElement("div",{className:"mortgage-amount"},g.a.createElement("div",{className:"table divid"},g.a.createElement("div",{className:"t-header"},g.a.createElement("span",null),g.a.createElement("span",null,s("ratio")),g.a.createElement("span",null,s("mortgage.loan")),g.a.createElement("span",null,s("mortgage.remain"))),this.renderAccount())))}}]),a}(g.a.Component));j.defaultProps={t:function(){},renderButton:function(){return null}},t.a=Object(b.b)("account",{wait:!0})(j)},657:function(e,t,a){"use strict";var n=a(4),r=a(6),c=a(31),o=a(13),s=a(12),i=a(0),l=a.n(i),u=a(53),m=a.n(u),g=a(73),p=(a(658),a(3)),d=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;Object(n.a)(this,a),r=t.call(this,e);var o=Object.values(finalConfig.assetToken);return o.unshift(finalConfig.XPA),o.unshift(finalConfig.ethAddress),r.state={tokens:o},r.logout=r.logout.bind(Object(c.a)(r)),r}return Object(r.a)(a,[{key:"logout",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props,a=t.account,n=t.t,r=t.tokenList,c=m.a.utils.BN,o=a.map((function(t,a){if(e.state.tokens.some((function(e){return e===t.address}))){var n=new c(t.usable,16)/Math.pow(10,r.find((function(e){return e.address})).decimal);return l.a.createElement("li",{key:t.address||a},l.a.createElement("div",null,t.token),l.a.createElement("div",null,Object(p.e)(10,n)))}return null}));return l.a.createElement("div",{className:"c_mortgageUser"},l.a.createElement("div",{className:"logout"},l.a.createElement("div",{className:"button",onClick:this.logout},l.a.createElement("span",null,n("logout")))),l.a.createElement("h3",null,n("balance")),l.a.createElement("div",null,l.a.createElement("ul",null,o)))}}]),a}(l.a.Component);d.defaultProps={t:function(){}},t.a=Object(g.b)("account",{wait:!0})(d)},658:function(e,t,a){},659:function(e,t,a){},805:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(6),c=a(13),o=a(12),s=a(0),i=a.n(s),l=a(58),u=a(182),m=a(30),g=a(73),p=a(80),d=a(18),b=a.n(d),f=a(39),h=a(31),v=a(8),O=a.n(v),j=a(3),E=a(181),k=a(656),y=(a(620),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={token:e.token,select:"",HighestMortgageRate:"-",mortgage:{able:!1,value:""},withdraw:{toggle:!1,type:"USX",able:!1,value:""},repayment:{toggle:!1,type:"USX",able:!1,value:""}},r.estimateMortgage=r.estimateMortgage.bind(Object(h.a)(r)),r.select=r.select.bind(Object(h.a)(r)),r.doMortgage=r.doMortgage.bind(Object(h.a)(r)),r.estimateAct=r.estimateAct.bind(Object(h.a)(r)),r.doAct=r.doAct.bind(Object(h.a)(r)),r.openToggle=r.openToggle.bind(Object(h.a)(r)),r.getUserData=r.getUserData.bind(Object(h.a)(r)),r.renderToggle=r.renderToggle.bind(Object(h.a)(r)),r.handleInput=r.handleInput.bind(Object(h.a)(r)),r.clickOutside=r.clickOutside.bind(Object(h.a)(r)),r.autoInputAll=r.autoInputAll.bind(Object(h.a)(r)),r.changeSelect=r.changeSelect.bind(Object(h.a)(r)),r.all=!1,r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.clickOutside)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.clickOutside),this.all=!1}},{key:"getUserData",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.props.actions).mortgageActions.changeMortgageRate(t),a.mortgageActions.changeEquivalentAmount(t),a.mortgageActions.changeUsableAmount(t),a.mortgageActions.changeLoanAmount(t),a.mortgageActions.changeRemainingAmount(t),a.mortgageActions.changeUsableXPA(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clickOutside",value:function(e){var t=document.querySelectorAll(".toggle-field")[0],a=document.querySelectorAll(".toggle-field")[1];t&&!t.contains(e.target)&&a&&!a.contains(e.target)&&this.setState(O()(this.state,{withdraw:{toggle:{$set:!1}},repayment:{toggle:{$set:!1}}}))}},{key:"changeSelect",value:function(e){e.stopPropagation(),this.setState(O()(this.state,Object(p.a)({},e.target.dataset.item,{type:{$set:e.target.dataset.key},toggle:{$set:!1}})))}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value,r=Number(n)?"".concat(Math.round(Number(n))):n,c=!!(Number(r)&&r>0);this.setState(O()(this.state,Object(p.a)({},a,{value:{$set:r},able:{$set:c}}))),this.all=!1}},{key:"estimateAct",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,r,c,o,s,i,l,u,m,g,p,d,f,h,v,O,k,y,w,A,x,N=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.remaining,r=a.loan,c=a.user,o=a.toastOpen,s=a.t,i=a.actions,l=a.account,u=a.usableXPA,m=this.state,g=m.withdraw,p=m.repayment,d="",h=t,c.wallet){e.next=6;break}return e.abrupt("return",o(s("importAlert")));case 6:if(!c.observer){e.next=8;break}return e.abrupt("return",o("".concat(s("mortgage.observerAlert")).concat(s("mortgage.mortgage"))));case 8:if(!("repayment"===t&&this.state[t].value<=0)){e.next=10;break}return e.abrupt("return",o(s("mortgage.mortgageMessage")));case 10:if("withdraw"!==t||"XPA"!==g.type){e.next=17;break}if(f=u,h="withdrawXPA",!(g.value<100)){e.next=15;break}return e.abrupt("return",o("\u63d0\u9818XPA\u5fc5\u9808\u5927\u65bc100"));case 15:e.next=25;break;case 17:if("withdraw"!==t){e.next=21;break}f=n[g.type],e.next=25;break;case 21:if(f=r[p.type],v=l.find((function(e){return e.address===finalConfig.assetToken[p.type]})).usable,!Object(j.a)(v).lt(Object(j.b)(Object(j.l)(this.state[t].value,18)))){e.next=25;break}return e.abrupt("return",o(s("mortgage.walletMessage",{token:p.type})));case 25:if(!Object(j.a)(f).lt(Object(j.b)(Object(j.l)(this.state[t].value,18)))){e.next=27;break}return e.abrupt("return",o(s("mortgage.".concat(h,"Message"))));case 27:return O=this.all?"0x".concat(f):this.state[t].value,k={token:"XPA",amount:O},y={token:"withdraw"===t?g.type:p.type,amount:this.state[t].value},i.modalActions.updateLoading(!0),i.modalActions.updateMessage(s("gettingTx")),e.next=34,E.g({amount:O,cash:this.state[t].type},c.wallet.address,c.key,t,d);case 34:w=e.sent,A=function(e){var t=l.find((function(e){return e.address===finalConfig.ethAddress}));if(Number(Object(j.l)(Object(j.a)(t.usable).toString(),-18))<Number(e))return o("ETH".concat(s("out")))},w?(i.modalActions.updateLoading(!1),x=Object(j.l)(w.gasPrice*w.gasLimit,-18),A(x),this.props.modalControl.open("mortgage",{fromToken:k,toToken:y,gas:x,fee:"XPA"===g.type?0:Object(j.l)(y.amount*w.fee,-18),type:t,exec:function(){N.doAct(w)}})):(o(s("failMessage")),i.modalActions.updateLoading(!1));case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"autoInputAll",value:function(e){var t,a=this.props,n=a.remaining,r=a.loan,c=a.usableXPA,o=this.state,s=o.withdraw,i=o.repayment,l=e.currentTarget.dataset.type;"withdraw"===l&&"XPA"===s.type?t=c:"withdraw"===l?t=n[s.type]:"repayment"===l&&(t=r[i.type]),t=Object(j.a)(t).toString(),this.setState(O()(this.state,Object(p.a)({},l,{value:{$set:"".concat(Object(j.l)(t,-18))},able:{$set:Object(j.l)(t,-18)>0}}))),this.all=!0}},{key:"doAct",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,r,c,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.user,r=a.actions,c=a.t,o=a.modalControl,s=a.toastOpen,r.modalActions.updateLoading(!0),r.modalActions.updateMessage(n.observer?c("dataGenerating"):c("success")),e.next=5,E.e(t);case 5:e.sent?(r.modalActions.updateLoading(!1),this.getUserData(n.wallet.address)):(r.modalActions.updateLoading(!1),s(c("failMessage"))),o.close(),this.setState(O()(this.state,{withdraw:{able:{$set:!1},value:{$set:""}},repayment:{able:{$set:!1},value:{$set:""}}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"doMortgage",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,r,c,o,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.user,r=a.actions,c=a.t,o=a.modalControl,s=a.toastOpen,r.modalActions.updateLoading(!0),r.modalActions.updateMessage(n.observer?c("dataGenerating"):c("success")),e.next=5,E.u(t);case 5:e.sent?(r.modalActions.updateLoading(!1),this.getUserData(n.wallet.address)):(r.modalActions.updateLoading(!1),s(c("failMessage"))),o.close(),this.setState(O()(this.state,{mortgage:{able:{$set:!1},value:{$set:""}}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateMortgage",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var a,n,r,c,o,s,i,l,u,m,g,p,d,f=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.state.mortgage,n=this.props,r=n.user,c=n.tokenList,o=n.account,s=n.actions,i=n.t,l=n.toastOpen,r.wallet){e.next=5;break}return e.abrupt("return",l(i("importAlert")));case 5:if(!r.observer){e.next=7;break}return e.abrupt("return",l("".concat(i("mortgage.observerAlert")).concat(i("mortgage.mortgage"))));case 7:if(!(a.value<100)){e.next=9;break}return e.abrupt("return",l(i("mortgage.mortgageAlert")));case 9:if(u=c.filter((function(e){return!0===e.basic})).find((function(e){return e.token===f.state.token})),!Object(j.a)(o.find((function(e){return e.address===u.address})).usable).lt(Object(j.b)(Object(j.l)(a.value,18)))){e.next=13;break}return e.abrupt("return",l("".concat(this.state.token," ").concat(i("out"))));case 13:return s.modalActions.updateLoading(!0),s.modalActions.updateMessage(i("gettingTx")),m={address:u.address,token:"XPA",amount:a.value},e.next=18,E.j(m,"",r.wallet.address,r.key,"");case 18:g=e.sent,p=function(e){var t=o.find((function(e){return e.address===finalConfig.ethAddress}));if(Number(Object(j.l)(Object(j.a)(t.usable).toString(),-18))<Number(e))return l("ETH".concat(i("out")))},g?(s.modalActions.updateLoading(!1),d=Object(j.l)(g.gasPrice*g.gasLimit,-18),p(d),this.props.modalControl.open("mortgage",{fromToken:m,gas:d,fee:0,type:"mortgage",exec:function(){f.doMortgage(g)}}),s.modalActions.updateLoading(!1)):(s.modalActions.updateLoading(!1),l(i("failMessage")));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openToggle",value:function(e){var t=this;this.setState(O()(this.state,{withdraw:{toggle:{$set:!1}},repayment:{toggle:{$set:!1}}}),(function(){t.setState(O()(t.state,Object(p.a)({},e,{toggle:{$set:!0}})))}))}},{key:"select",value:function(e){this.setState(O()(this.state,{select:{$set:e}}))}},{key:"renderToggle",value:function(e){var t=this,a=this.props.price,n=Object.keys(a);return"withdraw"===e&&n.push("XPA"),n.map((function(a){return i.a.createElement("div",{key:a,"data-item":e,"data-key":a,onClick:t.changeSelect},a)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.mortgage,n=t.select,r=t.withdraw,c=t.repayment,o=this.props,s=o.mortgageRate,l=o.equivalentAmount,u=o.usable,m=o.loan,g=o.remaining,p=o.t,d=o.user,b=o.usableXPA,f=o.price,h=o.actions,v="input-field";return i.a.createElement("div",{className:"c_mortgageOrder"},i.a.createElement("div",{className:"mortgage-input divid"},i.a.createElement("div",{className:"item"},i.a.createElement("div",null,p("mortgage.Mortgage")),i.a.createElement("div",{className:0===n?"".concat(v," select"):v,onClick:function(){e.mortgage.focus(),e.select(0)}},i.a.createElement("input",{ref:function(t){e.mortgage=t},type:"text",value:a.value,name:"mortgage",onChange:this.handleInput}),i.a.createElement("span",null,"XPA")),i.a.createElement("div",{className:a.able?"button":"button disable",onClick:this.estimateMortgage},i.a.createElement("span",null,p("mortgage.Mortgage"))))),i.a.createElement(k.a,{mortgageRate:s,equivalentAmount:l,loan:m,usable:u,remaining:g,user:d,usableXPA:b,getUserData:this.getUserData,price:f,actions:h}),i.a.createElement("div",{className:"mortgage-input"},i.a.createElement("div",{className:"item selectable"},i.a.createElement("div",null,p("mortgage.Withdraw")),i.a.createElement("div",{className:"toggle-field",onClick:function(){return e.openToggle("withdraw")}},i.a.createElement("span",null,r.type),i.a.createElement("span",null,i.a.createElement("img",{src:"/img/icon/ic-collapse.svg",alt:"dropdown"})),i.a.createElement("div",{className:r.toggle?"toggle":"toggle close"},this.renderToggle("withdraw"))),i.a.createElement("div",{className:1===n?"".concat(v," select"):v,onClick:function(){e.select(1),e.withdraw.focus()}},i.a.createElement("input",{name:"withdraw",type:"text",value:r.value,ref:function(t){e.withdraw=t},onChange:this.handleInput})),i.a.createElement("div",{className:"button all","data-type":"withdraw",onClick:this.autoInputAll},i.a.createElement("span",null,p("mortgage.all"),p("mortgage.Withdraw"))),i.a.createElement("div",{className:r.able?"button":"button disable",onClick:function(){e.estimateAct("withdraw")}},i.a.createElement("span",null,p("mortgage.Withdraw")))),i.a.createElement("div",{className:"item selectable"},i.a.createElement("div",null,p("mortgage.Repayment")),i.a.createElement("div",{className:"toggle-field",onClick:function(){return e.openToggle("repayment")}},i.a.createElement("span",null,c.type),i.a.createElement("span",null,i.a.createElement("img",{src:"/img/icon/ic-collapse.svg",alt:"dropdown"})),i.a.createElement("div",{className:c.toggle?"toggle":"toggle close"},this.renderToggle("repayment"))),i.a.createElement("div",{className:2===n?"".concat(v," select"):v,onClick:function(){e.select(2),e.repayment.focus()}},i.a.createElement("input",{type:"text",name:"repayment",value:c.value,ref:function(t){e.repayment=t},onChange:this.handleInput})),i.a.createElement("div",{className:"button all","data-type":"repayment",onClick:this.autoInputAll},i.a.createElement("span",null,p("mortgage.all"),p("mortgage.Repayment"))),i.a.createElement("div",{className:c.able?"button":"button disable",onClick:function(){e.estimateAct("repayment")}},i.a.createElement("span",null,p("mortgage.Repayment"))))))}}]),a}(i.a.Component));y.defaultProps={t:function(){}};var w,A=Object(g.b)("account",{wait:!0})(y),x=a(617),N=a(657),S=a(283),C=a(595),M=a(621),P=a(600),L=a(64),X=a(51),R=a(139),T=a(619),U=a(605),$=(a(659),Object(U.a)(w=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.mortgageActions.changeMortgagePrice()}},{key:"renderUser",value:function(e,t){var a=this.props,n=a.user,r=a.account,c=a.actions,o=a.tokenList;return n.wallet?i.a.createElement(N.a,{actions:c,account:r,modalControl:e,toastOpen:t,tokenList:o}):i.a.createElement(x.a,{wallet:n.wallet||{},actions:c,tokenList:o,modalControl:e,toastOpen:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.tokenList,r=t.account,c=t.t,o=t.actions,s=t.mortgageRate,l=t.equivalentAmount,u=t.usable,g=t.loan,p=t.remaining,d=t.usableXPA,b=t.price;return i.a.createElement(M.a,{actions:this.props.actions,loading:this.props.loading,tokenList:this.props.tokenList,keep:this.props.keep,message:this.props.message},(function(t,f){return i.a.createElement("div",{className:"co_mortgage"},i.a.createElement(S.a,null),i.a.createElement("nav",null,i.a.createElement("span",null,i.a.createElement(m.b,{to:"/exchange"},c("mortgage.index"))),i.a.createElement("img",{src:"/img/icon/ic-breadthumb.svg",alt:"arrow"}),i.a.createElement("span",null,c("mortgage.mortgage"))),i.a.createElement("main",null,i.a.createElement("div",{className:"sidebar"},i.a.createElement("div",{className:"title"},c("mortgage.wallet")),e.renderUser(t,f)),i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"title order"},i.a.createElement("span",null,c("mortgage.mortgage"),i.a.createElement(P.a,{message:c("prompt.mortgage")})),i.a.createElement("span",null,i.a.createElement(m.b,{to:"/offset"},c("mortgage.offset")))),i.a.createElement(A,{user:a,tokenList:n,token:"XPA",cash:"USX",account:r,actions:o,mortgageRate:s,equivalentAmount:l,usable:u,loan:g,remaining:p,usableXPA:d,modalControl:t,toastOpen:f,price:b}))),i.a.createElement(C.a,null))}))}}]),a}(i.a.Component))||w);$.defaultProps={t:function(){}};t.default=Object(u.b)((function(e){return{from:e.book.from,to:e.book.to,user:e.user.user,account:e.user.account,tokenList:e.book.tokenList,loading:e.modal.loading,message:e.modal.message,keep:e.user.keep,mortgageRate:e.mortgage.mortgageRate,equivalentAmount:e.mortgage.equivalentAmount,usable:e.mortgage.usable,loan:e.mortgage.loan,remaining:e.mortgage.remaining,usableXPA:e.mortgage.usableXPA,price:e.mortgage.price}}),(function(e){return{actions:{bookActions:Object(l.b)(L,e),userActions:Object(l.b)(X,e),modalActions:Object(l.b)(R,e),mortgageActions:Object(l.b)(T,e)}}}))(Object(g.b)("account",{wait:!0})($))}}]);
//# sourceMappingURL=9.286a4ea4.chunk.js.map