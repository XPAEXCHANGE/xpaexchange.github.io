(this["webpackJsonpxpa-exchange"]=this["webpackJsonpxpa-exchange"]||[]).push([[10],{595:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(73);a(596);t.a=Object(c.b)()((function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Powered by"),r.a.createElement("div",null,r.a.createElement("a",{href:"https://www.tideisun.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"/img/logo-lite.png",alt:"tideisun"}))),r.a.createElement("p",null,"Copyright",r.a.createElement("span",null,"\xa9"),"TideiSun. All rights reserved."))}))},596:function(e,t,a){},600:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=(a(616),function(e){return r.a.createElement("div",{className:"c_prompt"},r.a.createElement("img",{src:"/img/icon/ic-help".concat(1===e.type?"-gray":"",".svg"),alt:"question mark"}),r.a.createElement("div",null,e.message))});c.defaultProps={type:1},t.a=c},616:function(e,t,a){},617:function(e,t,a){"use strict";var n=a(4),r=a(6),c=a(31),o=a(13),s=a(12),i=a(0),l=a.n(i),u=a(73),m=a(594),g=a.n(m),p=a(599),d=a(600),f=(a(618),a(181)),b=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r.importWallet=r.importWallet.bind(Object(c.a)(r)),r.createWallet=r.createWallet.bind(Object(c.a)(r)),r.observe=r.observe.bind(Object(c.a)(r)),r}return Object(r.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!g()(e,this.props)||!g()(t,this.state)}},{key:"createWallet",value:function(){this.props.modalControl.open("create",{message:this.props.t("notDownloadWallet")})}},{key:"importWallet",value:function(){this.props.modalControl.open("import")}},{key:"observe",value:function(){var e=this,t=function(t){Object(p.a)({address:t},"","metamask","",e.props.actions)};f.A((function(e){t(e)})),f.y((function(e){t(e)}))}},{key:"render",value:function(){var e=this.props.t;return l.a.createElement("div",{className:"c_login"},l.a.createElement("ul",null,l.a.createElement("li",{className:"button",onClick:this.importWallet},l.a.createElement("span",null,e("importWallet"))),l.a.createElement("li",{className:"button",onClick:this.createWallet},l.a.createElement("span",null,e("createWallet"))),l.a.createElement("li",{className:"unique",onClick:this.observe},l.a.createElement("span",null,"MetaMask"),l.a.createElement(d.a,{type:2,message:e("prompt.obsever")}),l.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"}))))}}]),a}(l.a.Component);b.defaultProps={t:function(){}},t.a=Object(u.b)("account",{wait:!0})(b)},618:function(e,t,a){},619:function(e,t,a){"use strict";a.r(t),a.d(t,"changeMortgageRate",(function(){return i})),a.d(t,"changeEquivalentAmount",(function(){return l})),a.d(t,"changeUsableAmount",(function(){return u})),a.d(t,"changeLoanAmount",(function(){return m})),a.d(t,"changeRemainingAmount",(function(){return g})),a.d(t,"changeUsableXPA",(function(){return p})),a.d(t,"mortgageLogout",(function(){return d})),a.d(t,"changeMortgagePrice",(function(){return f}));var n=a(18),r=a.n(n),c=a(39),o=a(52),s=a(181),i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.q)(e);case 2:n=t.sent,a({type:o.d,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.n)(e);case 2:n=t.sent,a({type:o.a,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"usable");case 2:n=t.sent,a({type:o.f,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"loan");case 2:n=t.sent,a({type:o.b,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.l)(e,"remaining");case 2:n=t.sent,a({type:o.e,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.r)(e);case 2:n=t.sent,a({type:o.g,data:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(){return{type:o.h}},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.p)();case 2:a=e.sent,t({type:o.c,data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},620:function(e,t,a){},656:function(e,t,a){"use strict";var n=a(18),r=a.n(n),c=a(39),o=a(4),s=a(6),i=a(31),l=a(13),u=a(12),m=a(0),g=a.n(m),p=a(8),d=a.n(p),f=a(73),b=a(636),v=a(181),O=a(3),h=a(600),j=(a(620),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={HighestMortgageRate:"-",closingLine:"-"},n.renderAccount=n.renderAccount.bind(Object(i.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user;(function(){var a=Object(c.a)(r.a.mark((function a(){var n,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.o();case 2:return n=a.sent,a.next=5,v.m();case 5:c=a.sent,t.wallet&&setTimeout((function(){e.props.getUserData(t.wallet.address)}),200),e.setState(d()(e.state,{HighestMortgageRate:{$set:n.replace("0x","")},closingLine:{$set:c.replace("0x","")}}));case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.user.wallet&&e.user!==this.props.user&&setTimeout((function(){t.props.getUserData(e.user.wallet.address)}),200)}},{key:"renderAccount",value:function(){var e=this.props,t=e.loan,a=e.remaining,n=e.price;return Object.keys(n).map((function(e){return g.a.createElement("div",{key:e},g.a.createElement("div",null,e),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"price")},Object(O.e)(7,Object(O.l)(Object(O.a)(n[e]).toString(),-18))),g.a.createElement(b.a,{id:"".concat(e,"price"),place:"right"},Object(O.l)(Object(O.a)(n[e]).toString(),-18)),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"loan")},Object(O.e)(7,Object(O.l)(Object(O.a)(t[e]).toString(),-18))),g.a.createElement(b.a,{id:"".concat(e,"loan"),place:"right"},Object(O.l)(Object(O.a)(t[e]).toString(),-18)),g.a.createElement("span",{"data-tip":!0,"data-for":"".concat(e,"remaining")},Object(O.e)(7,Number(Object(O.l)(Object(O.a)(a[e]).toString(),-18)))),g.a.createElement(b.a,{id:"".concat(e,"remaining"),place:"right"},Object(O.l)(Object(O.a)(a[e]).toString(),-18)))}))}},{key:"render",value:function(){var e=this.state,t=e.HighestMortgageRate,a=e.closingLine,n=this.props,r=n.mortgageRate,c=n.equivalentAmount,o=n.usableXPA,s=n.t,i=n.renderButton;return g.a.createElement("div",{className:"order-info"},g.a.createElement("div",{className:"mortgage-rate divid"},g.a.createElement("div",{className:"infor"},g.a.createElement("div",{className:"rate"},g.a.createElement("span",null,s("mortgage.mortgageRate"),g.a.createElement(h.a,{message:s("prompt.mortgageRate")})),g.a.createElement("span",{"data-tip":!0,"data-for":"mortgage_rate".concat(r)},Object(O.e)(8,Object(O.l)(Object(O.a)(r).toString(),-16))||0,"%"),g.a.createElement(b.a,{id:"mortgage_rate".concat(r),place:"right"},Object(O.l)(Object(O.a)(r).toString(),-16))),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.highestRate")),g.a.createElement("span",null,Object(O.e)(8,Object(O.l)(Object(O.a)(t).toString(),-16))||0,"%")),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.equival")),g.a.createElement("span",{"data-tip":!0,"data-for":"equival".concat(c)},Object(O.e)(8,Object(O.l)(Object(O.a)(c).toString(),-18))," XPA"),g.a.createElement(b.a,{id:"equival".concat(c),place:"right"},Object(O.l)(Object(O.a)(c).toString(),-18))),g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.detachable")),g.a.createElement("span",{"data-tip":!0,"data-for":"usable".concat(o)},Number(Object(O.l)(Object(O.a)(o).toString(),-18))<Math.pow(10,-6)?0:Object(O.e)(8,Object(O.l)(Object(O.a)(o).toString(),-18))||0," XPA"),g.a.createElement(b.a,{id:"usable".concat(o),place:"right"},Number(Object(O.l)(Object(O.a)(o).toString(),-18))<Math.pow(10,-6)?"0":Object(O.l)(Object(O.a)(o).toString(),-18)))),g.a.createElement("div",{className:"close-line"},g.a.createElement("div",null,g.a.createElement("span",null,s("mortgage.closingLine"),g.a.createElement(h.a,{message:s("prompt.closeLine")})),g.a.createElement("span",null,Object(O.e)(8,Object(O.l)(Object(O.a)(a).toString(),-16))||0,"%")),g.a.createElement("div",{className:"rate"},g.a.createElement("span",null,s("mortgage.mortgageRate")),g.a.createElement("span",{"data-tip":!0,"data-for":"mortgage_rate".concat(r)},Object(O.e)(8,Object(O.l)(Object(O.a)(r).toString(),-16))||0,"%"),g.a.createElement(b.a,{id:"mortgage_rate".concat(r),place:"right"},Object(O.l)(Object(O.a)(r).toString(),-16))))),g.a.createElement("div",{className:"offset-btn divid"},i()),g.a.createElement("div",{className:"mortgage-amount"},g.a.createElement("div",{className:"table divid"},g.a.createElement("div",{className:"t-header"},g.a.createElement("span",null),g.a.createElement("span",null,s("ratio")),g.a.createElement("span",null,s("mortgage.loan")),g.a.createElement("span",null,s("mortgage.remain"))),this.renderAccount())))}}]),a}(g.a.Component));j.defaultProps={t:function(){},renderButton:function(){return null}},t.a=Object(f.b)("account",{wait:!0})(j)},657:function(e,t,a){"use strict";var n=a(4),r=a(6),c=a(31),o=a(13),s=a(12),i=a(0),l=a.n(i),u=a(53),m=a.n(u),g=a(73),p=(a(658),a(3)),d=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var r;Object(n.a)(this,a),r=t.call(this,e);var o=Object.values(finalConfig.assetToken);return o.unshift(finalConfig.XPA),o.unshift(finalConfig.ethAddress),r.state={tokens:o},r.logout=r.logout.bind(Object(c.a)(r)),r}return Object(r.a)(a,[{key:"logout",value:function(){window.location.reload()}},{key:"render",value:function(){var e=this,t=this.props,a=t.account,n=t.t,r=t.tokenList,c=m.a.utils.BN,o=a.map((function(t,a){if(e.state.tokens.some((function(e){return e===t.address}))){var n=new c(t.usable,16)/Math.pow(10,r.find((function(e){return e.address})).decimal);return l.a.createElement("li",{key:t.address||a},l.a.createElement("div",null,t.token),l.a.createElement("div",null,Object(p.e)(10,n)))}return null}));return l.a.createElement("div",{className:"c_mortgageUser"},l.a.createElement("div",{className:"logout"},l.a.createElement("div",{className:"button",onClick:this.logout},l.a.createElement("span",null,n("logout")))),l.a.createElement("h3",null,n("balance")),l.a.createElement("div",null,l.a.createElement("ul",null,o)))}}]),a}(l.a.Component);d.defaultProps={t:function(){}},t.a=Object(g.b)("account",{wait:!0})(d)},658:function(e,t,a){},659:function(e,t,a){},806:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(6),c=a(13),o=a(12),s=a(0),i=a.n(s),l=a(58),u=a(182),m=a(30),g=a(73),p=a(18),d=a.n(p),f=a(39),b=a(31),v=a(181),O=a(656),h=a(3),j=(a(620),function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).doOffset=r.doOffset.bind(Object(b.a)(r)),r.estimateOffset=r.estimateOffset.bind(Object(b.a)(r)),r.getUserData=r.getUserData.bind(Object(b.a)(r)),r.renderButton=r.renderButton.bind(Object(b.a)(r)),r}return Object(r.a)(a,[{key:"getUserData",value:function(e){var t=this.props.actions;t.mortgageActions.changeMortgageRate(e),t.mortgageActions.changeEquivalentAmount(e),t.mortgageActions.changeUsableAmount(e),t.mortgageActions.changeLoanAmount(e),t.mortgageActions.changeRemainingAmount(e),t.mortgageActions.changeUsableXPA(e)}},{key:"doOffset",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props,n=a.user,r=a.actions,c=a.t,o=a.modalControl,r.modalActions.updateLoading(!0),r.modalActions.updateMessage(n.observer?c("dataGenerating"):c("success")),e.next=5,v.f(t);case 5:e.sent&&(r.modalActions.updateLoading(!1),this.getUserData(n.wallet.address)),r.modalActions.updateLoading(!1),o.close();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateOffset",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n,r,c,o,s,i,l,u,m,g,p,f,b,O,j,E=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.loan,r=a.user,c=a.toastOpen,o=a.t,s=a.actions,i=a.equivalentAmount,l=a.price,u=a.account,m=t.currentTarget.dataset.type,g="",!r.observer){e.next=5;break}return e.abrupt("return",c("".concat(o("mortgage.observerAlert")).concat(o("mortgage.offset"))));case 5:if(!(n[m]>0&&Number(i)<=0)&&r.wallet){e.next=7;break}return e.abrupt("return",c(o("mortgage.offsetMessage")));case 7:return s.modalActions.updateLoading(!0),s.modalActions.updateMessage(o("gettingTx")),e.next=11,v.k(r.wallet.address,r.key,m,g);case 11:p=e.sent,f=Object(h.b)(Object(h.l)(Object(h.a)(n[m]).toString(),18)).div(Object(h.a)(l[m])),b=Object(h.a)(i),O=function(e){var t=u.find((function(e){return e.address===finalConfig.ethAddress}));if(Number(Object(h.l)(Object(h.a)(t.usable).toString(),-18))<Number(e))return c("ETH".concat(o("out")))},p?(s.modalActions.updateLoading(!1),j=Object(h.l)(p.gasPrice*p.gasLimit,-18),O(j),this.props.modalControl.open("offset",{toToken:{token:m},gas:j,fee:f.gt(b)?Object(h.l)(b.mul(Object(h.a)(p.fee)).toString(),-36):Object(h.l)(f.mul(Object(h.a)(p.fee)).toString(),-36),type:"offset",exec:function(){E.doOffset(p)}})):s.modalActions.updateLoading(!1);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButton",value:function(){var e=this,t=this.props,a=t.loan,n=t.equivalentAmount,r=t.t;return Object.keys(a).map((function(t){return i.a.createElement("div",{className:"item",key:t},i.a.createElement("div",{className:Number("0x".concat(a[t]))>0&&Object(h.a)(n).toString()>0?"button":"button disable","data-type":t,onClick:e.estimateOffset},i.a.createElement("span",null,r("mortgage.Offset")," ",t)))}))}},{key:"render",value:function(){var e=this.props,t=e.mortgageRate,a=e.equivalentAmount,n=e.usable,r=e.loan,c=e.remaining,o=e.user,s=e.usableXPA,l=e.price,u=e.actions;return i.a.createElement("div",{className:"c_mortgageOrder offset"},i.a.createElement(O.a,{mortgageRate:t,equivalentAmount:a,loan:r,usable:n,remaining:c,user:o,usableXPA:s,price:l,getUserData:this.getUserData,actions:u,renderButton:this.renderButton}))}}]),a}(i.a.Component));j.defaultProps={t:function(){}};var E,k=Object(g.b)("account",{wait:!0})(j),A=a(617),y=a(657),w=a(283),x=a(595),N=a(621),S=a(600),L=a(64),P=a(51),C=a(139),R=a(619),q=a(605),M=(a(659),Object(q.a)(E=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.mortgageActions.changeMortgagePrice()}},{key:"renderUser",value:function(e,t){var a=this.props,n=a.user,r=a.account,c=a.actions,o=a.tokenList;return n.wallet?i.a.createElement(y.a,{actions:c,account:r,modalControl:e,toastOpen:t,tokenList:o}):i.a.createElement(A.a,{wallet:n.wallet||{},actions:c,tokenList:o,modalControl:e,toastOpen:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.tokenList,r=t.account,c=t.t,o=t.actions,s=t.mortgageRate,l=t.equivalentAmount,u=t.usable,g=t.loan,p=t.remaining,d=t.usableXPA,f=t.price;return i.a.createElement(N.a,{actions:this.props.actions,loading:this.props.loading,tokenList:this.props.tokenList,keep:this.props.keep,message:this.props.message},(function(t,b){return i.a.createElement("div",{className:"co_mortgage"},i.a.createElement(w.a,null),i.a.createElement("nav",null,i.a.createElement("span",null,i.a.createElement(m.b,{to:"/exchange"},c("mortgage.index"))),i.a.createElement("img",{src:"/img/icon/ic-breadthumb.svg",alt:"arrow"}),i.a.createElement("span",null,i.a.createElement(m.b,{to:"/mortgage"},c("mortgage.mortgage"))),i.a.createElement("img",{src:"/img/icon/ic-breadthumb.svg",alt:"arrow"}),i.a.createElement("span",null,c("mortgage.offset"))),i.a.createElement("main",null,i.a.createElement("div",null,i.a.createElement("div",{className:"title"},c("mortgage.wallet")),e.renderUser(t,b)),i.a.createElement("div",null,i.a.createElement("div",{className:"title order"},i.a.createElement("span",{className:"offset"},c("mortgage.offset"),i.a.createElement(S.a,{message:c("prompt.offset")})),i.a.createElement("span",null,i.a.createElement(m.b,{to:"/mortgage"},c("mortgage.mortgage")))),i.a.createElement(k,{user:a,tokenList:n,token:"XPA",cash:"USX",account:r,actions:o,mortgageRate:s,equivalentAmount:l,usable:u,loan:g,remaining:p,usableXPA:d,price:f,modalControl:t,toastOpen:b}))),i.a.createElement(x.a,null))}))}}]),a}(i.a.Component))||E);M.defaultProps={t:function(){}};t.default=Object(u.b)((function(e){return{from:e.book.from,to:e.book.to,user:e.user.user,account:e.user.account,tokenList:e.book.tokenList,loading:e.modal.loading,message:e.modal.message,keep:e.user.keep,mortgageRate:e.mortgage.mortgageRate,equivalentAmount:e.mortgage.equivalentAmount,usable:e.mortgage.usable,loan:e.mortgage.loan,remaining:e.mortgage.remaining,usableXPA:e.mortgage.usableXPA,price:e.mortgage.price}}),(function(e){return{actions:{bookActions:Object(l.b)(L,e),userActions:Object(l.b)(P,e),modalActions:Object(l.b)(C,e),mortgageActions:Object(l.b)(R,e)}}}))(Object(g.b)("account",{wait:!0})(M))}}]);
//# sourceMappingURL=10.f767345b.chunk.js.map